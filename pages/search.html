<!-- ヘッダースクリプトを追加 -->
<script src="assets/js/search.js"></script>

<div class="search-container">
    <div class="search-form">
        <form id="search-form" role="search" aria-label="動画を検索">
            <div class="search-input-wrapper">
                <input type="text" id="search-input" placeholder="動画を検索..." autocomplete="off" aria-label="検索キーワード">
                <button type="submit" class="search-button" aria-label="検索">
                    <i class="fas fa-search" aria-hidden="true"></i>
                </button>
            </div>
        </form>
    </div>

    <div class="tag-filter">
        <div class="tag-filter-header">
            <h3>タグフィルター</h3>
            <button id="clear-filters" class="clear-button" aria-label="フィルターをクリア">クリア</button>
        </div>
        <div id="tag-list" class="tag-list" role="group" aria-label="タグフィルター">
            <!-- タグリストはJavaScriptで動的に生成 -->
            <p class="loading-text">タグを読み込み中...</p>
        </div>
    </div>

    <section id="search-results-section" class="search-results-container">
        <div class="search-results-header">
            <h2>検索結果 <span id="result-count" aria-live="polite">(0件)</span></h2>
            <div class="sort-options">
                <label for="sort-by">並び替え:</label>
                <select id="sort-by" aria-label="検索結果の並び替え">
                    <option value="date-desc">新しい順</option>
                    <option value="date-asc">古い順</option>
                    <option value="views-desc">再生数が多い順</option>
                    <option value="views-asc">再生数が少ない順</option>
                    <option value="duration-desc">配信時間が長い順</option>
                    <option value="duration-asc">配信時間が短い順</option>
                </select>
            </div>
        </div>
        <div id="search-results" class="video-grid" aria-live="polite">
            <!-- 検索結果はJavaScriptで動的に生成 -->
            <p class="no-results-message">検索ワードを入力するか、タグを選択してください</p>
        </div>
    </section>
</div>

<!-- フッタースクリプトを追加 -->
<script>
    // ページ読み込み時に検索機能を初期化
    document.addEventListener('DOMContentLoaded', function() {
        if (typeof initSearchPage === 'function') {
            initSearchPage();
        } else {
            console.error('検索機能の初期化に失敗しました。search.js が正しく読み込まれていることを確認してください。');
        }
    });
</script> 